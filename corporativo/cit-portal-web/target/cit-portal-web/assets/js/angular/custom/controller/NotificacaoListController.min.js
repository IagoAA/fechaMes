citApp.controller("NotificacaoListController",["$scope","$rootScope","NotificacaoRepository","DominioRepository","$translate",function(a,f,e,d,c){a.dialog;a.isVisualizar=!1;a.visualizado=!1;a.resetForm=function(){angular.element("#notificacao-edit-controller").scope().resetForm()};a.headers=[{title:c.instant("LABEL.TIPO_NOTIFICACAO"),value:"tipoNotificacao.descricao"},{title:c.instant("LABEL.TIPO_PRIORIDADE"),value:"tipoPrioridade.descricao"},{title:c.instant("LABEL.MENSAGEM"),value:"mensagem"},{title:c.instant("LABEL.DATA_VISUALIZACAO"),
value:"dataVisualizacao",filter:"dateBR"}];a.filterCriteria={start:1,dir:"asc",sort:"id",limit:10,fields:["id","mensagem","tipoNotificacao.descricao","tipoPrioridade.descricao","dataVisualizacao"],filters:[{type:"string",field:"tipoNotificacao.descricao",listaDominio:[]},{type:"string",field:"tipoPrioridade.descricao",listaDominio:[]},{type:"string",field:"mensagem"},{type:"date",field:"dataVisualizacao"}]};d.findAllDominio("tipoNotificacao").then(function(b){a.filterCriteria.filters[0].listaDominio=
b});d.findAllDominio("tipoPrioridade").then(function(b){a.filterCriteria.filters[1].listaDominio=b});a.updateVisualizar=function(){a.setLoadingSalva(!0);a.notificacao.dataVisualizacao=new Date;e.save(a.notificacao).then(function(b){a.findNotificacoes();a.setLoading(!1)});a.visualizado=!0};a.abrirNotificacao=function(b){var d=a.notificacaoChecked;d?(angular.element("#notificacao-edit-controller").scope().getNotificacao(d.id,b),a.$showPageEditWorkspace(a.workspace)):a.showAlert("warning",b?c.instant("MSG.SELECIONE_APENAS_UM_ITEM_PARA_VISUALIZAR"):
c.instant("MSG.SELECIONE_APENAS_UM_ITEM_PARA_EDICAO"))}}]);