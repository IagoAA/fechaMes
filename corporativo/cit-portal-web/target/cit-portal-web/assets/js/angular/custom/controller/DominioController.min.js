citApp.controller("PageDominioController",["$scope",function(a){a.showSearch=function(){a.$showSearch=!0;a.$showEdit=!1};a.showEdit=function(){a.$showSearch=!1;a.$showEdit=!0};a.showSearch()}]);
citApp.controller("DominioController",["$scope","DominioRepository","$translate","$timeout",function(a,d,c,e){a.atualizarLista=function(){angular.element("#dominioList").scope().fetchResult()};a.dialog;a.edit=!0;a.isExcluir=!0;a.dominio={};a.dominios=[];a.resetForm=function(){a.limpar();e(function(){a.formDominio.$submitted=!1;a.formDominio.$setPristine()})};a.validaCodigo=function(){if(void 0===a.dominio.id&&a.dominio.codigo&&a.dominio.chave)return d.validaCodigoDominioPorChave(a.dominio.chave,a.dominio.codigo).then(function(b){b&&
(a.dominio.codigo="",a.showAlert("error",c.instant("MSG.CODIGO_EM_USO")," ",!1))});if(void 0!==a.dominio.id&&a.dominio.codigo&&a.dominio.chave)return d.findAllDominioByCodigo(a.dominio.chave,a.dominio.codigo).then(function(b){b&&b.originalElement.id!==a.dominio.id&&(a.dominio.codigo="",a.showAlert("error",c.instant("MSG.CODIGO_EM_USO")," ",!1))})};a.getDominio=function(b,c){0!=b&&(d.get(b).then(function(b){a.dominio=b.originalElement}),a.edit=c,a.isExcluir=c)};a.saveOrUpdate=function(){a.formDominio.$submitted=
!0;a.formDominio.$valid?(""===a.dominio.dataBloqueio&&(a.dominio.dataBloqueio=null),a.setLoadingSalva(!0),d.save(a.dominio).then(function(b){a.setLoading(!1);a.showAlert("success",c.instant("MSG.SUCESSO_DOMINIO")," ",!1);a.dominio=b.originalElement;a.isExcluir=!0})):a.showAlert("error",c.instant("VALIDACAO.ALERTA_OBRIGATORIOS")," ",!1)};a.limpar=function(){a.dialog;a.edit=!0;a.isExcluir=!1;a.dominio={};a.dominios=[];e(function(){a.formDominio.$submitted=!1;a.formDominio.$setPristine()})};a.remove=
function(b){void 0===b&&(b=a.dominio);a.$openModalConfirm({message:c.instant("LABEL.CONFIRMA_EXCLUSAO"),callback:function(){a.setLoadingSalva(!0);d.remove(b).then(function(){a.showAlert("danger",c.instant("LABEL.EXCLUIDO")," ",!1);a.limpar();a.setLoadingSalva(!1);a.$modalConfirmInstance.dismiss("cancel");angular.element("#dominioList").scope().fetchResult();a.edit=!0})}})}}]);