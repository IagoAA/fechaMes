citApp.directive("timelineHorizontal",["$timeout",function(p){return{scope:{timelineClass:"@",showStartEndPoint:"@",startPointIcon:"@",startPointText:"@",endPointIcon:"@",endPointText:"@",list:"\x3d",listScreen:"\x3d",totalItems:"@",nextElementEvent:"\x26"},replace:!0,restrict:"E",transclude:!0,templateUrl:"assets/js/angular/custom/directive/html/timelineHorizontal.html",link:function(a,q,t){var f=angular.element(q[0]).find(".timeline-items");f.find(".timeline-content-button-prev");f.find(".timeline-content-button-next");
var c=0,d,g,e,h=function(){a.listScreen.length>e?(a.showButtons=!0,a.showButtonPrev=!0,a.showButtonNext=!0):(a.showButtons=!1,a.showButtonPrev=!1,a.showButtonNext=!1)},k=function(){g=f.width();e=Math.floor(g/44.1)},l=function(b){(function r(){a.listScreen.length<e&&a.list.length<a.totalItems?a.nextElementEvent().then(function(a){r()}):b()})()},m=function(){k();l(function(){h();d=c+e-1;for(var b=0;b<a.listScreen.length;b++)a.listScreen[b].hidden=b>=c&&b<e+c?!1:!0})},s=function(){k();l(function(){h();
c=0;d=e-1;for(var b=0;b<a.listScreen.length;b++)a.listScreen[b].hidden=b<e?!1:!0})},n=function(){a.listScreen[c].hidden=!0;c++;d++;a.listScreen[d].hidden=!1};a.nextItem=function(){a.listScreen[d+1]?n():a.list.length<a.totalItems?a.nextElementEvent().then(function(a){p(function(){n()},200)}):a.showButtonNext=!1;a.showButtonPrev=!0};a.prevItem=function(){a.listScreen[c-1]?(a.listScreen[d].hidden=!0,d--,c--,a.listScreen[c].hidden=!1):a.showButtonPrev=!1;a.showButtonNext=!0};a.$watch("listScreen",function(){m()});
angular.element(window).resize(function(){s()});m()}}}]);