citApp.directive("money",["$filter","$locale",function(f,k){return{require:"?ngModel",$scope:{min:"\x3dmin",max:"\x3dmax",ngRequired:"\x3dngRequired"},controller:["$scope",function(c){c.cVal=void 0}],link:function(c,g,k,d){function h(a){return RegExp("((\\"+a+")|([0-9]{1,}\\"+a+"?))\x26?[0-9]{0,2}","g")}d.$parsers.push(function(a){a=String(a);var b=null;b=a.match(/\,/g)?(b=a.match(/\d|\,/g).join("").match(h(",")))?b[0].replace(",","."):null:a.match(/\./g)?(b=a.match(/\d|\./g).join("").match(h(".")))?
b[0]:null:(b=a.match(/\d/g))?b.join(""):null;c.cVal=b;return parseFloat(c.cVal)});g.on("blur",function(){g.val(f("currency")(d.$modelValue))});d.$formatters.unshift(function(a){return f("currency")(a)});c.$watch(function(){return d.$modelValue},function(a,b){if(c.ngRequired||!isNaN(a)){if(c.min){var e=parseFloat(c.min);d.$setValidity("min",a>=e)}c.max&&(e=parseFloat(c.max),d.$setValidity("max",a<=e))}})}}}]);