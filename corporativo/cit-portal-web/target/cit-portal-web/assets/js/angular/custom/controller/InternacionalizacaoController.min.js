citApp.controller("InternacionalizacaoController",["$scope","InternacionalizacaoRepository","$translate","$timeout","ModuloRepository","DominioRepository",function(a,e,c,f,g,h){a.internacionalizacao={};a.isBloquear=!1;a.isDesbloquear=!1;a.resetForm=function(){a.limparInternacionalizacao();a.jsonPortal={};a.converterJson=!1;a.edit=!0;a.isBloquear=!1;a.isDesbloquear=a.isBloquear;f(function(){a.internacionalizacaoForm.$submitted=!1;a.internacionalizacaoForm.$setPristine()})};a.atualizaPaginaPesquisa=
function(){angular.element("#searchInternacionalizacao").scope().fetchResult()};a.remove=function(b){a.internacionalizacao=b;a.$openModalConfirm({message:c.instant("MSG.CONFIRMA_EXCLUSAO"),callback:function(){e.remove(a.internacionalizacao).then(function(){a.$modalConfirmInstance.dismiss("cancel");a.showAlert("success",c.instant("MSG.REGISTRO_EXCLUIDO"));angular.element("#searchInternacionalizacao").scope().fetchResult();a.resetForm()})}})};a.converterJsonEmMap=function(){var b={},d=JSON.parse(a.jsonPortalStr);
angular.forEach(d,function(a,d){a instanceof Object?angular.forEach(a,function(a,c){a instanceof Object?angular.forEach(a,function(a,e){b[d+"."+c+"."+e]=a}):b[d+"."+c]=a}):b[a]=d});return b};a.saveOrUpdate=function(){a.internacionalizacaoForm.$submitted=!0;a.internacionalizacaoForm.$valid?(a.converterJson&&(a.internacionalizacao.jsonPortal=a.converterJsonEmMap()),a.setLoadingSalva(!0),e.save(a.internacionalizacao).then(function(b){a.resetForm();a.internacionalizacao=b.originalElement;a.isBloquear=
!0;a.isDesbloquear=!a.isBloquear;a.showAlert("success",c.instant("MSG.REGISTRO_SALVO"));a.internacionalizacaoForm.$submitted=!1;a.setLoading(!1);a.converterJson&&(a.$showPageSearchWorkspace(a.$parent.workspace),a.atualizaPaginaPesquisa())})):a.showAlert("error",c.instant("VALIDACAO.ALERTA_OBRIGATORIOS")," ",!1)};a.limparInternacionalizacao=function(){a.internacionalizacao={}};a.getInternacionalizacao=function(b,d){a.setLoadingGet(!0);e.get(b.id).then(function(b){a.internacionalizacao=b.originalElement;
null===a.internacionalizacao.dataBloqueio||void 0===a.internacionalizacao.dataBloqueio?(a.isBloquear=!0,a.isDesbloquear=!a.isBloquear,a.edit=d):(a.isBloquear=!1,a.isDesbloquear=!a.isBloquear,a.edit=!1);a.setLoading(!1)})};a.findAutoCompleteModulo=function(a){return g.findAutoComplete("nome",a).then(function(a){return a})};h.findAllDominio("tipoIdioma").then(function(b){a.tipoDominioIdiomaList=b})}]);