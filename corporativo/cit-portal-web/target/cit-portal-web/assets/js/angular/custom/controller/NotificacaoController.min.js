citApp.controller("NotificacaoController",["$scope","$rootScope","NotificacaoRepository","DominioRepository","$translate","$timeout",function(a,c,d,e,f,g){a.dialog;a.isVisualizar=!1;a.visualizado=!1;a.resetForm=function(){a.limpar();a.isVisualizar=!1;a.visualizado=!1;g(function(){a.formNotificacaoEdit.$submitted=!1;a.formNotificacaoEdit.$setPristine()})};e.findAllDominio("tipoNotificacao").then(function(b){a.tiposNotificacao=b});e.findAllDominio("tipoPrioridade").then(function(b){a.tiposPrioridade=
b});a.saveOrUpdate=function(){a.formNotificacaoEdit.$submitted=!0;a.formNotificacaoEdit.$invalid?a.showAlert("error",f.instant("MSG.MN001")):(a.setLoadingSalva(!0),a.notificacao.usuario=a.usuarioLogado,d.save(a.notificacao).then(function(b){a.setLoading(!1);a.notificacao=b.originalElement;c.findNotificacoes();a.showAlert("success",f.instant("MSG.MG001"));a.formNotificacaoEdit.$submitted=!1}))};a.updateVisualizar=function(){a.setLoadingSalva(!0);d.visualizar(a.notificacao).then(function(b){a.setLoading(!1);
c.findNotificacoes()});a.visualizado=!0};a.limpar=function(){a.notificacao={};g(function(){a.formNotificacaoEdit.$submitted=!1;a.formNotificacaoEdit.$setPristine()})};a.fetchResult=function(){angular.element("#notificacao-list-controller").scope().fetchResult()};a.getNotificacao=function(b,c){d.get(b).then(function(b){a.notificacao=b.originalElement;a.visualizado=null!=a.notificacao.dataVisualizacao;a.isVisualizar=c})}}]);