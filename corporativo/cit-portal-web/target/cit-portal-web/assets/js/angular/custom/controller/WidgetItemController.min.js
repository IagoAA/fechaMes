citApp.controller("WidgetItemController",["$scope","$translate","WidgetItemRepository","WidgetRepository",function(a,c,d,e){a.parametrosTypes={CARACTERE:"text",TEXT_AREA:"textarea",NUMBER:"",DECIMAL:"",DATA:"",TIPO_DOMINIO:"",ARQUIVO:"",LOGICO:""};a.resetForm=function(){a.widgetItem={};a.$edit=!0;a.widgetItem.itemParametros=[]};a.fetchResult=function(){angular.element("#widget-item-list-controller").scope().fetchResult()};e.getList().then(function(b){a.listaWidget=[];b.forEach(function(b){a.listaWidget.push(b.originalElement)})});
a.loadWidgetItemEdit=function(b,c){a.$showPageEditWorkspace(a.workspace);d.get(b).then(function(b){a.widgetItem=b.originalElement});a.$edit=c};a.remove=function(b){a.widgetItem=b;a.$openModalConfirm({message:c.instant("MSG.CONFIRMA_EXCLUIR_WIDGET_ITEM"),callback:function(){d.remove(a.widgetItem).then(function(){a.$modalConfirmInstance.dismiss("cancel");a.showAlert("success",c.instant("MSG.SUCESSO_WIDGET_ITEM_EXCLUIDO"));angular.element("#widget-item-list-controller").scope().fetchResult();a.$showPageSearchWorkspace(a.workspace);
a.resetForm()})}})};a.saveOrUpdate=function(){a.formWidgetItemEdit.$submitted=!0;a.formWidgetItemEdit.$invalid?a.showAlert("error",c.instant("MSG.MN001")):(a.setLoading(!0),d.save(a.widgetItem).then(function(b){a.showAlert("success",c.instant("WIDGET_ITEM_SALVO_COM_SUCESSO"));a.resetForm();a.setLoading(!1);a.formWidgetItemEdit.$submitted=!1}))};a.resetForm()}]);