citApp.controller("GrupoListController",["$scope","GrupoRepository","$translate","$modal","$timeout","UsuarioRepository",function(a,e,b,g,h,f){a.$showAdvancedFilters=!1;a.headers=[{title:b.instant("LABEL.NOME"),value:"nome"},{title:b.instant("LABEL.SIGLA"),value:"sigla"},{title:b.instant("LABEL.EMAIL"),value:"email"}];a.filterCriteria={start:1,dir:"asc",sort:"id",limit:10,fields:["id","nome","sigla","email"],filters:[{type:"string",field:"nome"},{type:"string",field:"sigla"},{type:"string",field:"email"}]};
a.confirmarRemocao=function(){a.grupoChecked?f.quantidadeUsuarioPorGrupo(a.grupoChecked.id).then(function(c){0<c&&(c=b.instant("MSG.GRUPO_VINCULADO_USUARIO").concat(c).concat(" ").concat(b.instant("LABEL.USUARIO")).concat(" (s)"),a.$openModalConfirm({message:c,callback:a.remover}))}):a.showAlert("warning",b.instant("MSG.SELECIONE_ITEM_EXCLUIR"))};a.remover=function(){a.setLoadingRemove(!0);e.remove(a.grupoChecked).then(function(c){a.setLoadingRemove(!1);a.showAlert("success",b.instant("MSG.MG001"));
a.fetchResult()});a.$modalConfirmInstance.dismiss("cancel")};a.abrirGrupo=function(c){var d=a.grupoChecked;d?(angular.element("#grupoEdit").scope().getGrupo(d.id,c),a.$showPageEditWorkspace(a.workspace)):a.showAlert("warning",c?b.instant("MSG.SELECIONE_UM_ITEM_PARA_VISUALIZACAO"):b.instant("MSG.SELECIONE_UM_ITEM_PARA_EDICAO"))}}]);