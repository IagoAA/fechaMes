citApp.controller("OrgaoExternoListController",["$scope","OrigaoExternoRepository","$translate",function(a,d,e){a.$showAdvancedFilters=!1;a.totalPages=10;a.totalItens=0;a.limit=10;a.filterCriteria={start:1,dir:"asc",sort:"id",limit:10,fields:["codigo","nome","sigla","identificacao","id"],filters:[{type:"string",field:"nome"}]};a.filterResult=function(){a.filterCriteria.start=1;a.fetchResult().then(function(){a.filterCriteria.start=1})};a.onSort=function(c,b){a.filterCriteria.dir=b;a.filterCriteria.sort=
c;a.filterCriteria.start=1;a.fetchResult().then(function(){a.filterCriteria.start=1})};a.fetchResult=function(c){a.setLoadingPesquisa(!0);return d.getListPage(a.filterCriteria).then(function(b){a.OrgaosExternos=b.originalElement.objects;a.totalPages=b.originalElement.totalPages;a.totalItens=b.originalElement.totalItens;a.setLoading(!1)},function(){a.OrgaosExternos=[];a.totalPages=0;a.totalItens=0})};a.remove=function(c){a.OrgaoExterno=c;bootbox.dialog({message:"\x3cspan class\x3d'bigger-110'\x3e\x3cp\x3e"+
e.instant("LABEL.CONFIRMA_EXCLUSAO")+"\x3c/p\x3e\x3c/span\x3e",buttons:{button:{label:"Cancela",className:"btn-sm"},danger:{label:"Confirma",className:"btn-sm btn-danger",callback:function(){OrgaoExternoRepository.remove(a.OrgaoExterno).then(function(){a.fetchResult()})}}}})};a.abrirOrgaoExterno=function(a,b){angular.element("#editOrgaoExterno").scope().getOrgaoExterno(a,b)};a.limparOrgaoExterno=function(){a.OrgaoExterno=""};a.fetchResult()}]);