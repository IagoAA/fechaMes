citApp.directive("componenteTelefone",["DominioRepository","$translate","$modal","TelefoneRepository",function(d,e,f,g){return{scope:{telefones:"\x3dngTelefones",form:"\x3dform",showCampos:"\x3d"},replace:!0,restrict:"E",templateUrl:"/cit-tabelas-corp-web/assets/js/angular/custom/directive/html/telefone.html",link:function(a,e,h){a.MASK_TELEFONE="(99) 9999?9-9999";a.obrigatorios={};a.obrigatorios.numero=!1;a.obrigatorios.dominioTelefone=!1;a.obrigatorios.podeAdd=!0;a.telefone={};a.tiposTelefone=[];
d.findAllDominio("tipoTelefone").then(function(b){a.tiposTelefone=b});a.adicionarTelefone=function(){a.obrigatorios.podeAdd=!0;a.telefone.numero?a.obrigatorios.numero=!1:(a.obrigatorios.podeAdd=!1,a.obrigatorios.numero=!0);a.telefone.dominioTelefone?a.obrigatorios.dominioTelefone=!1:(a.obrigatorios.podeAdd=!1,a.obrigatorios.dominioTelefone=!0);a.obrigatorios.podeAdd&&(a.telefones.push(a.telefone),a.telefone={})};a.openModal=function(b,c){void 0!==b&&(a.$modalInstance=f.open({templateUrl:b,size:c,
windowClass:"modal-buttons-top",backdrop:!1,scope:this}))};a.checkTelefone=function(b){a.removeCheckedTelefone();b.$checked=!0};a.removeCheckedTelefone=function(){a.telefones.forEach(function(a){a.$checked=!1})};a.removerTelefone=function(){angular.forEach(a.telefones,function(b,c){b.$checked&&(a.telefones.splice(c,1),b.id&&g.remove(b).then(function(a){}))});a.$modalInstance.dismiss("cancel")}}}}]);