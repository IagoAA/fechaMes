citApp.directive("componenteEnderecoUnico",["PaisRepository","RegiaoRepository","EstadoRepository","CidadeRepository","BairroRepository","EnderecoRepository","DominioRepository","$translate","$timeout",function(h,k,l,m,n,p,q,r,g){return{scope:{novo:"\x3d",edit:"\x3dngEdit",endereco:"\x3dngEndereco",form:"\x3dform"},replace:!0,restrict:"EA",templateUrl:"/cit-tabelas-corp-web/assets/js/angular/custom/directive/html/enderecoUnico.html",link:function(a,s,t){a.MASK_CEP="99999-999";q.findAllDominio("tipoEndereco").then(function(b){a.dominiosTipoEndereco=
b});a.findEndereco=function(a){return p.listarEndereco(a).then(function(a){return a})};a.findPais=function(a){return h.listarPais(a).then(function(a){return a})};a.findRegiao=function(b){return k.findRegiao({objeto:a.endereco.$pais,nome:b}).then(function(a){return a})};a.findEstado=function(b){var c={};angular.copy(a.endereco.$regiao,c);angular.copy(a.endereco.$pais,c.pais);return l.findEstado({objeto:c,nome:b}).then(function(a){return a})};a.findCidade=function(b){var c={},d={},e={};angular.copy(a.endereco.$pais,
c);angular.copy(a.endereco.$regiao,d);angular.copy(a.endereco.$estado,e);d.pais=c;e.regiao=d;return m.findCidade({objeto:e,nome:b}).then(function(a){return a})};a.findBairro=function(b){var c={},d={},e={},f={};angular.copy(a.endereco.$pais,c);angular.copy(a.endereco.$regiao,d);angular.copy(a.endereco.$estado,e);angular.copy(a.endereco.$cidade,f);d.pais=c;e.regiao=d;f.estado=e;return n.findBairro({objeto:f,nome:b}).then(function(a){return a})};a.setEndereco=function(b){a.endereco=b;a.$endereco={nome:""};
a.setBairroCidadeEstadoRegiaoPais(b.bairro)};a.setRegiaoPais=function(b){a.endereco.$pais=angular.copy(b.pais)};a.setEstadoRegiaoPais=function(b){a.setRegiaoPais(b.regiao);a.endereco.$regiao=angular.copy(b.regiao)};a.setCidadeEstadoRegiaoPais=function(b){a.setEstadoRegiaoPais(b.estado);a.endereco.cidade=angular.copy(b);a.endereco.$estado=angular.copy(b.estado)};a.setBairroCidadeEstadoRegiaoPais=function(b){a.setCidadeEstadoRegiaoPais(b.cidade);a.endereco.$cidade=angular.copy(b.cidade)};a.limparEnderecoFind=
function(){a.enderecoFind={};a.endereco={};g(function(){a.form.$setPristine()})};a.$watch("endereco.$pais",function(b,c){b||(a.endereco.$regiao=null,a.form["endereco.$pais"]&&(a.form["endereco.$pais"].$pristine=!1),a.form["endereco.$regiao"]&&(a.form["endereco.$regiao"].$pristine=!1))},!0);a.$watch("endereco.$regiao",function(b,c){b||(a.endereco.$estado=null,a.form["endereco.$regiao"]&&(a.form["endereco.$regiao"].$pristine=!1),a.form["endereco.$estado"]&&(a.form["endereco.$estado"].$pristine=!1))},
!0);a.$watch("endereco.$estado",function(b,c){b||(a.form["endereco.$estado"]&&(a.form["endereco.$estado"].$pristine=!1),a.form["endereco.$cidade"]&&(a.form["endereco.$cidade"].$pristine=!1),a.endereco.$cidade=null)},!0);a.$watch("endereco.$cidade",function(b,c){b||(a.form["endereco.$cidade"]&&(a.form["endereco.$cidade"].$pristine=!1),a.form["endereco.bairro"]&&(a.form["endereco.bairro"].$pristine=!1),a.endereco.bairro=null)},!0);a.novoEndereco=function(){angular.element("#citapp-controller").scope().addNewWorkspace(r.instant("LABEL.ENDERECO"),
"/cit-tabelas-corp-web/html/endereco/endereco.html",!0,"mod-green");g(function(){angular.element("#searchEndereco").scope().$showPageEditWorkspace(angular.element("#searchEndereco").scope().workspace);angular.element("#searchEndereco").scope().resetForm()},200)}}}}]);